#!/bin/bash

# UNIX GENERATING LICENSE.TXT
echo -e "\033[0;32m"
echo "          ▒▒▒▒▒"
echo "         ▒▒▒▒▒▒▒"
echo "         ▒▒▒▒▒▒▒▒"
echo "         ▒▒▒▒▒▒▒▒▒ ▒▒▒▒▒▒▒▒"
echo "         ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒"
echo "    ▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒    ▓▓▓▓▓▓▓ ▓▓▓▓▓▓▓▓ ▓▓▓▓▓▓▓ ▓▓▓▓▓▓▓  ▓▓▓▓▓▓    ▓▓▓▓     ▓▓▓▓▓▓ ▓▓▓▓▓▓▓"
echo " ▒▒▒▒▒▒▒▒▒▒▓▓▓███▓▓▓▒▒▒▒▒▒▒     ▓▓▓     ▓▓▓  ▓▓▓ ▓▓▓       ▓▓▓   ▓▓▓▓      ▓▓▓▓▓     ▓▓▓    ▓▓▓ ▓▓▓"
echo " ▒▒▒▒▒▒▒▒▒▓▓▓█████▓▓▓▒▒▒▒▒      ▓▓▓▓▓▓  ▓▓    ▓▓ ▓▓▓▓▓▓    ▓▓▓   ▓▓▓▓▓▓▓ ▓▓▓ ▓▓▓     ▓▓▓▓▓▓ ▓▓▓▓▓▓"
echo "  ▒▒▒▒▒▒▒▒▓▓▓█████▓▓▓▒▒▒▒▒         ▓▓▓▓ ▓▓▓  ▓▓▓ ▓▓▓       ▓▓▓   ▓▓▓ ▓▓▓ ▓▓▓▓▓▓▓▓    ▓▓▓    ▓▓▓ ▓▓▓"
echo "    ▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒     ▓▓▓▓▓▓▓ ▓▓▓▓▓▓▓▓ ▓▓▓       ▓▓▓   ▓▓▓▓▓▓▓     ▓▓▓  ▓▓ ▓▓▓    ▓▓▓  ▓▓▓"
echo "        ▒▒▒▒▒▒▓▓▓▒▒▒▒▒▒▒▒▒▒"
echo "       ▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒"
echo "       ▒▒▒▒▒▒▒▒▒▒ ▒▒▒▒▒▒▒▒▒"
echo "       ▒▒▒▒▒▒▒▒▒    ▒▒▒▒▒▒"
echo "        ▒▒▒▒▒"
echo -e "\033[0m"

echo "##################################################################################################"
echo "#                                     GENERATING LICENSE.TXT                                     #"
echo "##################################################################################################"
echo ""

LICENSE_EDIT="LICENSE_TO_EDIT.txt"
THIRD_PARTY="target/generated-sources/license/THIRD-PARTY.txt"
OUTPUT="LICENSE.txt"

if [ ! -f "$LICENSE_EDIT" ]; then
    echo "Missing: $LICENSE_EDIT"
elif [ ! -f "$THIRD_PARTY" ]; then
    echo "Missing: $THIRD_PARTY"
else
    rm -f "$OUTPUT"
    cat "$LICENSE_EDIT" "$THIRD_PARTY" > "$OUTPUT"
    echo "$OUTPUT successfully generated."
fi

echo ""
echo "##################################################################################################"
echo "#                                             DONE !                                             #"
echo "##################################################################################################"